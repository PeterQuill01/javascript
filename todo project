const form =document.querySelector('#form') 
const input=document.querySelector('#input')
const todos = document.querySelector('#todos')


form.addEventListener('submit',function (e){

    e.preventDefault();
    addtodo();

})
function addtodo(){

    const todoText= input.value;

    if(todoText){

        const todoEl = document.createElement("li");
        todoEl.innerText= todoText;
        todos.appendChild(todoEl);

        todoEl.addEventListener("click",function(){
            todoEl.classList.toggle("completed")
            updateLS()
        })

        todoEl.addEventListener("contextmenu",function(e){
            e.preventDefault();
            todoEl.remove();
            updateLS()
        })

        input.value= '';
    }
}

function updateLS(){
    const notesEl = document.querySelectorAll('li');
    const notes=[]

    notesEl.forEach(notesEl=>{
        notes.push({
            text:notesEl.innerText,
            completed: notesEl.classList.contains("completed")

        })
    })

    localStorage.setItem('notes',JSON.stringify(notes))
}

