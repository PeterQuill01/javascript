const form =document.querySelector('#form') 
const input=document.querySelector('#input')
const todos = document.querySelector('#todos')


form.addEventListener('submit',function (e){

    e.preventDefault();
    addtodo();

})
function addtodo(){

    const todoText= input.value;

    if(todoText){

        const todoEl = document.createElement("li");
        todoEl.innerText= todoText;
        todos.appendChild(todoEl);

        todoEl.addEventListener("click",function(){
            todoEl.classList.toggle("completed");
            updateLS();
        });

        todoEl.addEventListener("contextmenu",function(e){
            e.preventDefault();
            todoEl.remove();
           
        })

        input.value= '';
        updateLS()
    }
}

function updateLS(){
    const todosEl = document.querySelectorAll('li');
    const todos=[]

   todosEl.forEach(todoEl=>{
       todos.push({
            text:todoEl.innerText,
            completed:todoEl.classList.contains("completed")

        })
    })

    localStorage.setItem('todo',JSON.stringify(todos))
}

